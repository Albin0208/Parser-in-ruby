\documentclass{TDP003mall}

\newcommand{\version}{Version 1.1}
\author{Albin Dahlén, \url{albda746@student.liu.se}\\
Filip Ingvarsson, \url{filin764@student.liu.se}}
\title{Språkspecifikation}
\date{2023-02-22}
\rhead{Albin Dahlén \\
Filip Ingvarsson}

\begin{document}

    \projectpage

    \tableofcontents

    \section*{Revisionshistorik}
    \begin{table}[!h]
        \begin{tabularx}{\linewidth}{|l|X|l|}
            \hline
            Ver. & Revisionsbeskrivning      & Datum    \\\hline
            1.1  & Språkspecification 2     & 23-02-22 \\\hline
        \end{tabularx}
    \end{table}

    \newpage


    \section{Introduktion}

    \section{Grammatik}
    \begin{verbatim}
    <program> ::= <stmt>+

    <stmt> ::= <var_declaration> 
            | <conditional>
            | <func_declaration>
            | <loop>
            | <expr>
            | "return" <expr>

    <var_declaration> ::= ("const")? <type_specifier> <identifier> (= <expr>)?
                        | "const")? <array_type_specifier> <identifier> ("=" <array_literal>)?

    <array_type_specifier> ::= <type_specifier> "[]"

    <array_literal> ::= "[" (<expr> ("," <expr>)*)? "]"

    <func_declaration> ::= "func" <func_specifier> <identifier> "(" <func_params> ")" "{" <stmt>* "}"

    <func_params> ::= (<type_specifier> <identifier> ("," <type_specifier> <identifier>)*)? 

    <func_specifier> ::= "void" | <type_specifier>

    <type_specifier> ::= "int" | "float" | "bool" | "string"

    <conditional> ::= "if" <expr> "{" <stmt>+ "}"
                    ("elsif" <expr> "{" <stmt>+ "}" )*
                    ("else" "{" <stmt>+ "}")?

    <loop> ::= "while" <expr> "{" <stmt>* "}"

    <assign_expr> ::= <identifier> "=" <expr>

    <func_call> ::= <identifier> "(" (<expr> ("," <expr>)*)? ")"

    <expr> ::= <logical_expr> 
            | <arithmetic_expr> 
            | <assign_expr>
            | <func_call>
            | <primary_expr>

    <logical_expr> ::= <logical_and_expr> | <logical_or_expr>

    <logical_and_expr> ::= <comparison_expr> ("&&" <comparison_expr>)+

    <logical_or_expr> ::= <logical_and_expr> ("||" <logical_and_expr>)+

    <comparison_expr> ::= <additive_expr> { <logical_comparator> <additive_expr> }

    <additive_expr> ::= <multiplication_expr> { ("+" | "-") <multiplication_expr> }

    <multiplication_expr> ::= <unary_expr> { ("*" | "/") <unary_expr> }

    <unary_expr> ::= ("+" | "-") <primary_expr>

    <primary_expr> ::= <identifier> 
                    | <array_access>
                    | <numeric_literal> 
                    | "(" <expr> ")"

    <array_access> ::= <identifier> "[" <expr> "]"

    <identifier> ::= [a-zA-Z_][a-zA-Z0-9_]*

    <numeric_literal> ::= [0-9]+ ( "." [0-9]+ )?

    <logical_comparator> ::= "<" | ">" | "<=" | ">=" | "==" | "!="
    
    \end{verbatim}

    \section{Typning}
    Typningen ska vara statisk, där variabler deklareras genom att specificera vilken typ det är.

    Exempel: \\
    int a = 2 \\
    float b = 2 \\
    string c = ``Hej''

    \section{Styrstrukturer}
\begin{verbatim}
    Exempel if-sats:
    if (cond) {
      
    }

    Exempel if-else-sats:
    if (cond) {
      
    } else {

    }

    Exempel if-elsif-elsesats:
    if (cond) {
      
    } elseif cond {

    } else {

    }
\end{verbatim}

\section{Iteratorer}

\subsection{For-loop}

\subsection{While-loop}

\subsection{Foreach-loop}

    \section{Funktioner}
    Funktioner defineras genom att skriva nyckelordet \emph{func} följt av vilket returtyp funktionen ska ha. Efter returtypen följer funktionsnamnet och en komma separerad parameterlista omgiven av paranteser där varje parameters typ anges innan parameterns namn. Funktionskroppen omslutes av en start- och slutmåsvinge. I slutet av funktionskroppen måste ett nyckelordet \emph{return} finnas om det inte är en void funktion där nyckelordet \emph{void} har skrivit i funktions deklarationen.

    \begin{verbatim}
    Exempel publik funktion:
    func string name(string param1, int param2...) {
        statements
        return "This is a string"
    }  
\end{verbatim}
    
    \subsection{Parameteröverföring}
    Alla parametrar skickas alltid som referenser och vill man ha en kopia får man anropa funktionen \emph{copy} på objektet.

\begin{verbatim}
    Exempel funktionsanrop med parameteröverföring:
    func_name(param1, param2)

    Exempel funktionsanrop med parameteröverföring som kopior:
    object.func_name(param1.copy(), param2.copy())
\end{verbatim}

    \section{Objektorienterat}
    Språket ska vara objektorienterat med arv där funktioner kan specifieceras som public, protected och private.

    \begin{verbatim}
    Exempel publik funktion:
    func string name(string param1, int param2...) {
        statements
        return "This is a string"
    } 

    Exempel publik funktion: 
    public func int name(int param1, int param2...) { 
        statements
        return 45 
    } 

    Exempel protected funktion: 
    protected func string name(string param1, int param2...) { 
        statements
        return "This is a string"
    } 

    Exempel privat funktion: 
    private func string name(string param1, int param2...) { 
        statements
        return "This is a string"
    } 
\end{verbatim}
    \subsection{Klasser}
        \begin{verbatim}
    Exempel klass deklaration:
    Class Name {
      
    }

    Exempel klass deklaration med arv:
    Class Name -> Parent {
      
    }
\end{verbatim}

    \section{Scope}

    \subsection{Variablers livslängd}
    En variabel där i samband med sitt scope.
 
\end{document}
